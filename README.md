# AI-Driven Hypertension Clinical Decision Support System (CDSS)

A web-based Clinical Decision Support System that predicts hypertension risk using a Decision Tree machine learning classifier. Built as an academic Biomedical Engineering project.

A clinician enters five patient biometrics — the system returns a hypertension prediction, confidence score, AHA/ACC 2017 blood pressure classification, identified risk factors, and clinical interpretation.

> **Disclaimer:** This is an academic demonstration project, not a production clinical tool. It must not be used for actual medical diagnosis or treatment decisions.

---

## Features

- **ML-Powered Prediction** — Decision Tree classifier (scikit-learn) trained on 600 synthetic cardiovascular samples
- **AHA/ACC 2017 BP Classification** — Normal, Elevated, Stage 1, Stage 2, Hypertensive Crisis
- **Real-Time Input Validation** — Client-side range checks and cross-field rules with inline feedback
- **Clinical Interpretation Panel** — Risk factors, BP category, and risk score breakdown
- **Session History** — Tabular log of all predictions made during a session
- **Mock Mode** — Frontend works standalone with simulated predictions when the backend is unavailable
- **Responsive UI** — Clean, accessible HTML/CSS interface with ARIA labels

---

## Tech Stack

| Layer | Technology |
|---|---|
| Backend | Python 3.9+, Flask 3.0, flask-cors |
| ML | scikit-learn 1.4 (DecisionTreeClassifier), joblib, NumPy, Pandas |
| Frontend | HTML5, CSS3, Vanilla JavaScript (ES6+, IIFE modules) |
| Dev Server | VS Code Live Server (port 5500) |

---

## Project Structure

```
AI-based-Hypertension-CDSS/
├── backend/
│   ├── app.py                  # Flask API server (POST /api/predict, GET /api/health)
│   ├── train_model.py          # Dataset generation & model training script
│   ├── requirements.txt        # Python dependencies
│   ├── model/
│   │   └── cdss_model.pkl      # Trained sklearn Pipeline (generated by train_model.py)
│   └── utils/
│       └── preprocess.py       # Input validation, BP classification, risk scoring
├── public/
│   └── frontend/
│       ├── index.html           # Main application page
│       ├── css/
│       │   └── style.css        # Application styles
│       └── js/
│           ├── validators.js    # Client-side input validation (zero dependencies)
│           ├── api.js           # API communication + mock fallback
│           ├── ui.js            # DOM rendering (result card, history table, interpretation)
│           └── app.js           # Application controller (event binding, orchestration)
├── docs/                        # Detailed project documentation
│   ├── api-contract.md          # Full API schema & examples
│   ├── architecture.md          # Module dependency graph & data flow
│   ├── clinical-reference.md    # AHA/ACC 2017 guidelines reference
│   ├── context.md               # Complete development log
│   ├── experiment.md            # Academic experiment write-up
│   ├── model.md                 # ML model documentation
│   └── setup.md                 # Detailed setup & troubleshooting guide
└── .gitignore
```

---

## Quick Start

### Prerequisites

- Python 3.9+ with pip
- A modern web browser
- No Node.js, Docker, or build tools required

### 1. Clone & Create Virtual Environment

```bash
git clone https://github.com/<your-username>/AI-based-Hypertension-CDSS.git
cd AI-based-Hypertension-CDSS

python -m venv .venv

# Windows PowerShell
.venv\Scripts\Activate.ps1

# Linux / macOS
source .venv/bin/activate
```

### 2. Install Dependencies

```bash
pip install -r backend/requirements.txt
```

### 3. Train the Model

```bash
cd backend
python train_model.py
```

This generates `backend/model/cdss_model.pkl`.

### 4. Start the Backend

```bash
python app.py
```

The Flask server starts at `http://localhost:5000`.

### 5. Open the Frontend

Open `public/frontend/index.html` with **VS Code Live Server** (port 5500) or any local HTTP server. The frontend auto-detects the backend.

> **Tip:** If the backend is unavailable, the frontend switches to mock mode automatically.

---

## API Endpoints

| Method | Endpoint | Description |
|---|---|---|
| `POST` | `/api/predict` | Submit patient data, receive hypertension prediction |
| `GET` | `/api/health` | Server & model health check |

### Example Request

```bash
curl -X POST http://localhost:5000/api/predict \
  -H "Content-Type: application/json" \
  -d '{"age": 55, "bmi": 30.2, "cholesterol": 245, "systolic": 145, "diastolic": 92}'
```

### Example Response

```json
{
  "prediction": 1,
  "confidence": 86.5,
  "riskScore": 73,
  "bpCategory": "High BP – Stage 2",
  "bpStage": "stage2",
  "bpColor": "red",
  "riskFactors": [
    "Stage 2 systolic hypertension (≥140 mmHg)",
    "Stage 2 diastolic hypertension (≥90 mmHg)",
    "Senior age (≥55 yrs)",
    "Obesity (BMI ≥30)",
    "High cholesterol (≥240 mg/dL)"
  ]
}
```

---

## ML Model Summary

| Property | Value |
|---|---|
| Algorithm | Decision Tree (CART) via `DecisionTreeClassifier` |
| Pipeline | `StandardScaler` → `DecisionTreeClassifier` |
| Hyperparameters | `max_depth=5`, `min_samples_split=10`, `min_samples_leaf=5`, `class_weight="balanced"` |
| Training data | 600 synthetic samples (balanced: 300 per class) |
| Features | Age, BMI, Cholesterol, Systolic BP, Diastolic BP |
| Classes | 0 = Normotensive, 1 = Hypertensive |
| Expected accuracy | ~87–92% |

---

## Documentation

Detailed documentation is available in the [docs/](docs/) directory:

- [Setup & Troubleshooting](docs/setup.md) — step-by-step install, run, and debug guide
- [API Contract](docs/api-contract.md) — full request/response schemas with cURL examples
- [Architecture](docs/architecture.md) — module graph, boot sequence, data flow
- [Model Documentation](docs/model.md) — dataset, training, evaluation metrics, feature importance
- [Clinical Reference](docs/clinical-reference.md) — AHA/ACC 2017 guidelines, BMI, cholesterol ranges
- [Experiment Write-Up](docs/experiment.md) — academic experiment report
- [Development Context](docs/context.md) — complete log of decisions and changes

---

## License

This project is developed for academic purposes as part of a Biomedical Engineering course.